{"remainingRequest":"C:\\Users\\jonha\\Google Drive\\Skole\\Programutvikling\\INF319\\Firebase\\SAVuegram\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\jonha\\Google Drive\\Skole\\Programutvikling\\INF319\\Firebase\\SAVuegram\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\jonha\\Google Drive\\Skole\\Programutvikling\\INF319\\Firebase\\SAVuegram\\src\\store\\index.js","dependencies":[{"path":"C:\\Users\\jonha\\Google Drive\\Skole\\Programutvikling\\INF319\\Firebase\\SAVuegram\\src\\store\\index.js","mtime":1602496932902},{"path":"C:\\Users\\jonha\\Google Drive\\Skole\\Programutvikling\\INF319\\Firebase\\SAVuegram\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jonha\\Google Drive\\Skole\\Programutvikling\\INF319\\Firebase\\SAVuegram\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\jonha\\Google Drive\\Skole\\Programutvikling\\INF319\\Firebase\\SAVuegram\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL2pvbmhhL0dvb2dsZSBEcml2ZS9Ta29sZS9Qcm9ncmFtdXR2aWtsaW5nL0lORjMxOS9GaXJlYmFzZS9TQVZ1ZWdyYW0vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWV4IGZyb20gJ3Z1ZXgnOwppbXBvcnQgKiBhcyBmYiBmcm9tICcuLi9maXJlYmFzZSc7CmltcG9ydCByb3V0ZXIgZnJvbSAnLi4vcm91dGVyL2luZGV4JzsKVnVlLnVzZShWdWV4KTsgLy8gcmVhbHRpbWUgZmlyZWJhc2UKCmZiLnBvc3RzQ29sbGVjdGlvbi5vcmRlckJ5KCdjcmVhdGVkT24nLCAnZGVzYycpLm9uU25hcHNob3QoZnVuY3Rpb24gKHNuYXBzaG90KSB7CiAgdmFyIHBvc3RzQXJyYXkgPSBbXTsKICBzbmFwc2hvdC5mb3JFYWNoKGZ1bmN0aW9uIChkb2MpIHsKICAgIHZhciBwb3N0ID0gZG9jLmRhdGEoKTsKICAgIHBvc3QuaWQgPSBkb2MuaWQ7CiAgICBwb3N0c0FycmF5LnB1c2gocG9zdCk7CiAgfSk7CiAgc3RvcmUuY29tbWl0KCdzZXRQb3N0cycsIHBvc3RzQXJyYXkpOwp9KTsKdmFyIHN0b3JlID0gbmV3IFZ1ZXguU3RvcmUoewogIHN0YXRlOiB7CiAgICB1c2VyUHJvZmlsZToge30sCiAgICBwb3N0czogW10KICB9LAogIG11dGF0aW9uczogewogICAgc2V0VXNlclByb2ZpbGU6IGZ1bmN0aW9uIHNldFVzZXJQcm9maWxlKHN0YXRlLCB2YWwpIHsKICAgICAgc3RhdGUudXNlclByb2ZpbGUgPSB2YWw7CiAgICB9LAogICAgc2V0UGVyZm9ybWluZ1JlcXVlc3Q6IGZ1bmN0aW9uIHNldFBlcmZvcm1pbmdSZXF1ZXN0KHN0YXRlLCB2YWwpIHsKICAgICAgc3RhdGUucGVyZm9ybWluZ1JlcXVlc3QgPSB2YWw7CiAgICB9LAogICAgc2V0UG9zdHM6IGZ1bmN0aW9uIHNldFBvc3RzKHN0YXRlLCB2YWwpIHsKICAgICAgc3RhdGUucG9zdHMgPSB2YWw7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oX3JlZiwgZm9ybSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBkaXNwYXRjaCwgX3lpZWxkJGZiJGF1dGgkc2lnbkluLCB1c2VyOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkaXNwYXRjaCA9IF9yZWYuZGlzcGF0Y2g7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBmYi5hdXRoLnNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkKGZvcm0uZW1haWwsIGZvcm0ucGFzc3dvcmQpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfeWllbGQkZmIkYXV0aCRzaWduSW4gPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgdXNlciA9IF95aWVsZCRmYiRhdXRoJHNpZ25Jbi51c2VyOwogICAgICAgICAgICAgICAgLy8gZmV0Y2ggdXNlciBwcm9maWxlIGFuZCBzZXQgaW4gc3RhdGUKICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdmZXRjaFVzZXJQcm9maWxlJywgdXNlcik7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzaWdudXA6IGZ1bmN0aW9uIHNpZ251cChfcmVmMiwgZm9ybSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgZGlzcGF0Y2gsIF95aWVsZCRmYiRhdXRoJGNyZWF0ZSwgdXNlcjsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRpc3BhdGNoID0gX3JlZjIuZGlzcGF0Y2g7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZmIuYXV0aC5jcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQoZm9ybS5lbWFpbCwgZm9ybS5wYXNzd29yZCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF95aWVsZCRmYiRhdXRoJGNyZWF0ZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgdXNlciA9IF95aWVsZCRmYiRhdXRoJGNyZWF0ZS51c2VyOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIGZiLnVzZXJzQ29sbGVjdGlvbi5kb2ModXNlci51aWQpLnNldCh7CiAgICAgICAgICAgICAgICAgIG5hbWU6IGZvcm0ubmFtZSwKICAgICAgICAgICAgICAgICAgdGl0bGU6IGZvcm0udGl0bGUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAvLyBmZXRjaCB1c2VyIHByb2ZpbGUgYW5kIHNldCBpbiBzdGF0ZQogICAgICAgICAgICAgICAgZGlzcGF0Y2goJ2ZldGNoVXNlclByb2ZpbGUnLCB1c2VyKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZmV0Y2hVc2VyUHJvZmlsZTogZnVuY3Rpb24gZmV0Y2hVc2VyUHJvZmlsZShfcmVmMywgdXNlcikgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgY29tbWl0LCB1c2VyUHJvZmlsZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGZiLnVzZXJzQ29sbGVjdGlvbi5kb2ModXNlci51aWQpLmdldCgpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICB1c2VyUHJvZmlsZSA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgLy8gc2V0IHVzZXIgcHJvZmlsZSBpbiBzdGF0ZQogICAgICAgICAgICAgICAgY29tbWl0KCdzZXRVc2VyUHJvZmlsZScsIHVzZXJQcm9maWxlLmRhdGEoKSk7IC8vIGNoYW5nZSByb3V0ZSB0byBkYXNoYm9hcmQKCiAgICAgICAgICAgICAgICBpZiAocm91dGVyLmN1cnJlbnRSb3V0ZS5wYXRoID09PSAnL2xvZ2luJykgewogICAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCgnLycpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChfcmVmNCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgY29tbWl0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmNC5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZmIuYXV0aC5zaWduT3V0KCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIC8vIGNsZWFyIHVzZXIgZGF0YSBmcm9tIHN0YXRlCiAgICAgICAgICAgICAgICBjb21taXQoJ3NldFVzZXJQcm9maWxlJywge30pOyAvLyByZWRpcmVjdCB0byBsb2dpbiB2aWV3CgogICAgICAgICAgICAgICAgcm91dGVyLnB1c2goJy9sb2dpbicpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjcmVhdGVQb3N0OiBmdW5jdGlvbiBjcmVhdGVQb3N0KF9yZWY1LCBwb3N0KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHZhciBzdGF0ZSwgY29tbWl0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBzdGF0ZSA9IF9yZWY1LnN0YXRlLCBjb21taXQgPSBfcmVmNS5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZmIucG9zdHNDb2xsZWN0aW9uLmFkZCh7CiAgICAgICAgICAgICAgICAgIGNyZWF0ZWRPbjogbmV3IERhdGUoKSwKICAgICAgICAgICAgICAgICAgY29udGVudDogcG9zdC5jb250ZW50LAogICAgICAgICAgICAgICAgICB1c2VySWQ6IGZiLmF1dGguY3VycmVudFVzZXIudWlkLAogICAgICAgICAgICAgICAgICB1c2VyTmFtZTogc3RhdGUudXNlclByb2ZpbGUubmFtZSwKICAgICAgICAgICAgICAgICAgY29tbWVudHM6IDAsCiAgICAgICAgICAgICAgICAgIGxpa2VzOiAwCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbGlrZVBvc3Q6IGZ1bmN0aW9uIGxpa2VQb3N0KF9yZWY2LCBwb3N0KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICAgIHZhciBjb21taXQsIHVzZXJJZCwgZG9jSWQsIGRvYzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjYuY29tbWl0OwogICAgICAgICAgICAgICAgdXNlcklkID0gZmIuYXV0aC5jdXJyZW50VXNlci51aWQ7CiAgICAgICAgICAgICAgICBkb2NJZCA9ICIiLmNvbmNhdCh1c2VySWQsICJfIikuY29uY2F0KHBvc3QuaWQpOyAvLyBjaGVjayBpZiB1c2VyIGhhcyBsaWtlZCBwb3N0CgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGZiLmxpa2VzQ29sbGVjdGlvbi5kb2MoZG9jSWQpLmdldCgpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBkb2MgPSBfY29udGV4dDYuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIWRvYy5leGlzdHMpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gZmIubGlrZXNDb2xsZWN0aW9uLmRvYyhkb2NJZCkuc2V0KHsKICAgICAgICAgICAgICAgICAgcG9zdElkOiBwb3N0LmlkLAogICAgICAgICAgICAgICAgICB1c2VySWQ6IHVzZXJJZAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgcG9zdCBsaWtlcyBjb3VudAogICAgICAgICAgICAgICAgZmIucG9zdHNDb2xsZWN0aW9uLmRvYyhwb3N0LmlkKS51cGRhdGUoewogICAgICAgICAgICAgICAgICBsaWtlczogcG9zdC5saWtlc0NvdW50ICsgMQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB1cGRhdGVQcm9maWxlOiBmdW5jdGlvbiB1cGRhdGVQcm9maWxlKF9yZWY3LCB1c2VyKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KCkgewogICAgICAgIHZhciBkaXNwYXRjaCwgdXNlcklkLCB1c2VyUmVmLCBwb3N0RG9jcywgY29tbWVudERvY3M7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRpc3BhdGNoID0gX3JlZjcuZGlzcGF0Y2g7CiAgICAgICAgICAgICAgICB1c2VySWQgPSBmYi5hdXRoLmN1cnJlbnRVc2VyLnVpZDsgLy8gdXBkYXRlIHVzZXIgb2JqZWN0CgogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGZiLnVzZXJzQ29sbGVjdGlvbi5kb2ModXNlcklkKS51cGRhdGUoewogICAgICAgICAgICAgICAgICBuYW1lOiB1c2VyLm5hbWUsCiAgICAgICAgICAgICAgICAgIHRpdGxlOiB1c2VyLnRpdGxlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgdXNlclJlZiA9IF9jb250ZXh0Ny5zZW50OwogICAgICAgICAgICAgICAgZGlzcGF0Y2goJ2ZldGNoVXNlclByb2ZpbGUnLCB7CiAgICAgICAgICAgICAgICAgIHVpZDogdXNlcklkCiAgICAgICAgICAgICAgICB9KTsgLy8gdXBkYXRlIGFsbCBwb3N0cyBieSB1c2VyCgogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIGZiLnBvc3RzQ29sbGVjdGlvbi53aGVyZSgndXNlcklkJywgJz09JywgdXNlcklkKS5nZXQoKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgcG9zdERvY3MgPSBfY29udGV4dDcuc2VudDsKICAgICAgICAgICAgICAgIHBvc3REb2NzLmZvckVhY2goZnVuY3Rpb24gKGRvYykgewogICAgICAgICAgICAgICAgICBmYi5wb3N0c0NvbGxlY3Rpb24uZG9jKGRvYy5pZCkudXBkYXRlKHsKICAgICAgICAgICAgICAgICAgICB1c2VyTmFtZTogdXNlci5uYW1lCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7IC8vIHVwZGF0ZSBhbGwgY29tbWVudHMgYnkgdXNlcgoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICByZXR1cm4gZmIuY29tbWVudHNDb2xsZWN0aW9uLndoZXJlKCd1c2VySWQnLCAnPT0nLCB1c2VySWQpLmdldCgpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgY29tbWVudERvY3MgPSBfY29udGV4dDcuc2VudDsKICAgICAgICAgICAgICAgIGNvbW1lbnREb2NzLmZvckVhY2goZnVuY3Rpb24gKGRvYykgewogICAgICAgICAgICAgICAgICBmYi5jb21tZW50c0NvbGxlY3Rpb24uZG9jKGRvYy5pZCkudXBkYXRlKHsKICAgICAgICAgICAgICAgICAgICB1c2VyTmFtZTogdXNlci5uYW1lCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTcpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn0pOwpleHBvcnQgZGVmYXVsdCBzdG9yZTs="},{"version":3,"sources":["C:/Users/jonha/Google Drive/Skole/Programutvikling/INF319/Firebase/SAVuegram/src/store/index.js"],"names":["Vue","Vuex","fb","router","use","postsCollection","orderBy","onSnapshot","snapshot","postsArray","forEach","doc","post","data","id","push","store","commit","Store","state","userProfile","posts","mutations","setUserProfile","val","setPerformingRequest","performingRequest","setPosts","actions","login","form","dispatch","auth","signInWithEmailAndPassword","email","password","user","signup","createUserWithEmailAndPassword","usersCollection","uid","set","name","title","fetchUserProfile","get","currentRoute","path","logout","signOut","createPost","add","createdOn","Date","content","userId","currentUser","userName","comments","likes","likePost","docId","likesCollection","exists","postId","update","likesCount","updateProfile","userRef","where","postDocs","commentsCollection","commentDocs"],"mappings":";;;;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAO,KAAKC,EAAZ,MAAoB,aAApB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AAEAH,GAAG,CAACI,GAAJ,CAAQH,IAAR,E,CAEA;;AACAC,EAAE,CAACG,eAAH,CAAmBC,OAAnB,CAA2B,WAA3B,EAAwC,MAAxC,EAAgDC,UAAhD,CAA2D,UAAAC,QAAQ,EAAI;AACrE,MAAIC,UAAU,GAAG,EAAjB;AAEAD,EAAAA,QAAQ,CAACE,OAAT,CAAiB,UAAAC,GAAG,EAAI;AACtB,QAAIC,IAAI,GAAGD,GAAG,CAACE,IAAJ,EAAX;AACAD,IAAAA,IAAI,CAACE,EAAL,GAAUH,GAAG,CAACG,EAAd;AAEAL,IAAAA,UAAU,CAACM,IAAX,CAAgBH,IAAhB;AACD,GALD;AAOAI,EAAAA,KAAK,CAACC,MAAN,CAAa,UAAb,EAAyBR,UAAzB;AACD,CAXD;AAaA,IAAMO,KAAK,GAAG,IAAIf,IAAI,CAACiB,KAAT,CAAe;AAC3BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,WAAW,EAAE,EADR;AAELC,IAAAA,KAAK,EAAE;AAFF,GADoB;AAK3BC,EAAAA,SAAS,EAAE;AACTC,IAAAA,cADS,0BACMJ,KADN,EACaK,GADb,EACkB;AACzBL,MAAAA,KAAK,CAACC,WAAN,GAAoBI,GAApB;AACD,KAHQ;AAITC,IAAAA,oBAJS,gCAIYN,KAJZ,EAImBK,GAJnB,EAIwB;AAC/BL,MAAAA,KAAK,CAACO,iBAAN,GAA0BF,GAA1B;AACD,KANQ;AAOTG,IAAAA,QAPS,oBAOAR,KAPA,EAOOK,GAPP,EAOY;AACnBL,MAAAA,KAAK,CAACE,KAAN,GAAcG,GAAd;AACD;AATQ,GALgB;AAgB3BI,EAAAA,OAAO,EAAE;AACDC,IAAAA,KADC,uBACmBC,IADnB,EACyB;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAlBC,gBAAAA,QAAkB,QAAlBA,QAAkB;AAAA;AAAA,uBAEP7B,EAAE,CAAC8B,IAAH,CAAQC,0BAAR,CAAmCH,IAAI,CAACI,KAAxC,EAA+CJ,IAAI,CAACK,QAApD,CAFO;;AAAA;AAAA;AAEtBC,gBAAAA,IAFsB,yBAEtBA,IAFsB;AAI9B;AACAL,gBAAAA,QAAQ,CAAC,kBAAD,EAAqBK,IAArB,CAAR;;AAL8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAM/B,KAPM;AAQDC,IAAAA,MARC,yBAQoBP,IARpB,EAQ0B;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAlBC,gBAAAA,QAAkB,SAAlBA,QAAkB;AAAA;AAAA,uBAER7B,EAAE,CAAC8B,IAAH,CAAQM,8BAAR,CAAuCR,IAAI,CAACI,KAA5C,EAAmDJ,IAAI,CAACK,QAAxD,CAFQ;;AAAA;AAAA;AAEvBC,gBAAAA,IAFuB,yBAEvBA,IAFuB;AAAA;AAAA,uBAKzBlC,EAAE,CAACqC,eAAH,CAAmB5B,GAAnB,CAAuByB,IAAI,CAACI,GAA5B,EAAiCC,GAAjC,CAAqC;AACzCC,kBAAAA,IAAI,EAAEZ,IAAI,CAACY,IAD8B;AAEzCC,kBAAAA,KAAK,EAAEb,IAAI,CAACa;AAF6B,iBAArC,CALyB;;AAAA;AAU/B;AACAZ,gBAAAA,QAAQ,CAAC,kBAAD,EAAqBK,IAArB,CAAR;;AAX+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYhC,KApBM;AAqBDQ,IAAAA,gBArBC,mCAqB4BR,IArB5B,EAqBkC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAhBnB,gBAAAA,MAAgB,SAAhBA,MAAgB;AAAA;AAAA,uBAEbf,EAAE,CAACqC,eAAH,CAAmB5B,GAAnB,CAAuByB,IAAI,CAACI,GAA5B,EAAiCK,GAAjC,EAFa;;AAAA;AAEjCzB,gBAAAA,WAFiC;AAIvC;AACAH,gBAAAA,MAAM,CAAC,gBAAD,EAAmBG,WAAW,CAACP,IAAZ,EAAnB,CAAN,CALuC,CAOvC;;AACA,oBAAIV,MAAM,CAAC2C,YAAP,CAAoBC,IAApB,KAA6B,QAAjC,EAA2C;AACzC5C,kBAAAA,MAAM,CAACY,IAAP,CAAY,GAAZ;AACD;;AAVsC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWxC,KAhCM;AAiCDiC,IAAAA,MAjCC,yBAiCkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAV/B,gBAAAA,MAAU,SAAVA,MAAU;AAAA;AAAA,uBAEjBf,EAAE,CAAC8B,IAAH,CAAQiB,OAAR,EAFiB;;AAAA;AAIvB;AACAhC,gBAAAA,MAAM,CAAC,gBAAD,EAAmB,EAAnB,CAAN,CALuB,CAOvB;;AACAd,gBAAAA,MAAM,CAACY,IAAP,CAAY,QAAZ;;AARuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASxB,KA1CM;AA2CDmC,IAAAA,UA3CC,6BA2C6BtC,IA3C7B,EA2CmC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAvBO,gBAAAA,KAAuB,SAAvBA,KAAuB,EAAhBF,MAAgB,SAAhBA,MAAgB;AAAA;AAAA,uBAElCf,EAAE,CAACG,eAAH,CAAmB8C,GAAnB,CAAuB;AAC3BC,kBAAAA,SAAS,EAAE,IAAIC,IAAJ,EADgB;AAE3BC,kBAAAA,OAAO,EAAE1C,IAAI,CAAC0C,OAFa;AAG3BC,kBAAAA,MAAM,EAAErD,EAAE,CAAC8B,IAAH,CAAQwB,WAAR,CAAoBhB,GAHD;AAI3BiB,kBAAAA,QAAQ,EAAEtC,KAAK,CAACC,WAAN,CAAkBsB,IAJD;AAK3BgB,kBAAAA,QAAQ,EAAE,CALiB;AAM3BC,kBAAAA,KAAK,EAAE;AANoB,iBAAvB,CAFkC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUzC,KArDM;AAsDDC,IAAAA,QAtDC,2BAsDqBhD,IAtDrB,EAsD2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAhBK,gBAAAA,MAAgB,SAAhBA,MAAgB;AAC1BsC,gBAAAA,MAD0B,GACjBrD,EAAE,CAAC8B,IAAH,CAAQwB,WAAR,CAAoBhB,GADH;AAE1BqB,gBAAAA,KAF0B,aAEfN,MAFe,cAEL3C,IAAI,CAACE,EAFA,GAIhC;;AAJgC;AAAA,uBAKdZ,EAAE,CAAC4D,eAAH,CAAmBnD,GAAnB,CAAuBkD,KAAvB,EAA8BhB,GAA9B,EALc;;AAAA;AAK1BlC,gBAAAA,GAL0B;;AAAA,qBAM5BA,GAAG,CAACoD,MANwB;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA,uBAS1B7D,EAAE,CAAC4D,eAAH,CAAmBnD,GAAnB,CAAuBkD,KAAvB,EAA8BpB,GAA9B,CAAkC;AACtCuB,kBAAAA,MAAM,EAAEpD,IAAI,CAACE,EADyB;AAEtCyC,kBAAAA,MAAM,EAAEA;AAF8B,iBAAlC,CAT0B;;AAAA;AAchC;AACArD,gBAAAA,EAAE,CAACG,eAAH,CAAmBM,GAAnB,CAAuBC,IAAI,CAACE,EAA5B,EAAgCmD,MAAhC,CAAuC;AACrCN,kBAAAA,KAAK,EAAE/C,IAAI,CAACsD,UAAL,GAAkB;AADY,iBAAvC;;AAfgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBjC,KAxEM;AAyEDC,IAAAA,aAzEC,gCAyE2B/B,IAzE3B,EAyEiC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAlBL,gBAAAA,QAAkB,SAAlBA,QAAkB;AAChCwB,gBAAAA,MADgC,GACvBrD,EAAE,CAAC8B,IAAH,CAAQwB,WAAR,CAAoBhB,GADG,EAEtC;;AAFsC;AAAA,uBAGhBtC,EAAE,CAACqC,eAAH,CAAmB5B,GAAnB,CAAuB4C,MAAvB,EAA+BU,MAA/B,CAAsC;AAC1DvB,kBAAAA,IAAI,EAAEN,IAAI,CAACM,IAD+C;AAE1DC,kBAAAA,KAAK,EAAEP,IAAI,CAACO;AAF8C,iBAAtC,CAHgB;;AAAA;AAGhCyB,gBAAAA,OAHgC;AAQtCrC,gBAAAA,QAAQ,CAAC,kBAAD,EAAqB;AAAES,kBAAAA,GAAG,EAAEe;AAAP,iBAArB,CAAR,CARsC,CAUtC;;AAVsC;AAAA,uBAWfrD,EAAE,CAACG,eAAH,CAAmBgE,KAAnB,CAAyB,QAAzB,EAAmC,IAAnC,EAAyCd,MAAzC,EAAiDV,GAAjD,EAXe;;AAAA;AAWhCyB,gBAAAA,QAXgC;AAYtCA,gBAAAA,QAAQ,CAAC5D,OAAT,CAAiB,UAAAC,GAAG,EAAI;AACtBT,kBAAAA,EAAE,CAACG,eAAH,CAAmBM,GAAnB,CAAuBA,GAAG,CAACG,EAA3B,EAA+BmD,MAA/B,CAAsC;AACpCR,oBAAAA,QAAQ,EAAErB,IAAI,CAACM;AADqB,mBAAtC;AAGD,iBAJD,EAZsC,CAkBtC;;AAlBsC;AAAA,uBAmBZxC,EAAE,CAACqE,kBAAH,CAAsBF,KAAtB,CAA4B,QAA5B,EAAsC,IAAtC,EAA4Cd,MAA5C,EAAoDV,GAApD,EAnBY;;AAAA;AAmBhC2B,gBAAAA,WAnBgC;AAoBtCA,gBAAAA,WAAW,CAAC9D,OAAZ,CAAoB,UAAAC,GAAG,EAAI;AACzBT,kBAAAA,EAAE,CAACqE,kBAAH,CAAsB5D,GAAtB,CAA0BA,GAAG,CAACG,EAA9B,EAAkCmD,MAAlC,CAAyC;AACvCR,oBAAAA,QAAQ,EAAErB,IAAI,CAACM;AADwB,mBAAzC;AAGD,iBAJD;;AApBsC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAyBvC;AAlGM;AAhBkB,CAAf,CAAd;AAsHA,eAAe1B,KAAf","sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport * as fb from '../firebase'\r\nimport router from '../router/index'\r\n\r\nVue.use(Vuex)\r\n\r\n// realtime firebase\r\nfb.postsCollection.orderBy('createdOn', 'desc').onSnapshot(snapshot => {\r\n  let postsArray = []\r\n\r\n  snapshot.forEach(doc => {\r\n    let post = doc.data()\r\n    post.id = doc.id\r\n\r\n    postsArray.push(post)\r\n  })\r\n\r\n  store.commit('setPosts', postsArray)\r\n})\r\n\r\nconst store = new Vuex.Store({\r\n  state: {\r\n    userProfile: {},\r\n    posts: []\r\n  },\r\n  mutations: {\r\n    setUserProfile(state, val) {\r\n      state.userProfile = val\r\n    },\r\n    setPerformingRequest(state, val) {\r\n      state.performingRequest = val\r\n    },\r\n    setPosts(state, val) {\r\n      state.posts = val\r\n    }\r\n  },\r\n  actions: {\r\n    async login({ dispatch }, form) {\r\n      // sign user in\r\n      const { user } = await fb.auth.signInWithEmailAndPassword(form.email, form.password)\r\n\r\n      // fetch user profile and set in state\r\n      dispatch('fetchUserProfile', user)\r\n    },\r\n    async signup({ dispatch }, form) {\r\n      // sign user up\r\n      const { user } = await fb.auth.createUserWithEmailAndPassword(form.email, form.password)\r\n\r\n      // create user object in userCollections\r\n      await fb.usersCollection.doc(user.uid).set({\r\n        name: form.name,\r\n        title: form.title\r\n      })\r\n\r\n      // fetch user profile and set in state\r\n      dispatch('fetchUserProfile', user)\r\n    },\r\n    async fetchUserProfile({ commit }, user) {\r\n      // fetch user profile\r\n      const userProfile = await fb.usersCollection.doc(user.uid).get()\r\n\r\n      // set user profile in state\r\n      commit('setUserProfile', userProfile.data())\r\n\r\n      // change route to dashboard\r\n      if (router.currentRoute.path === '/login') {\r\n        router.push('/')\r\n      }\r\n    },\r\n    async logout({ commit }) {\r\n      // log user out\r\n      await fb.auth.signOut()\r\n\r\n      // clear user data from state\r\n      commit('setUserProfile', {})\r\n\r\n      // redirect to login view\r\n      router.push('/login')\r\n    },\r\n    async createPost({ state, commit }, post) {\r\n      // create post in firebase\r\n      await fb.postsCollection.add({\r\n        createdOn: new Date(),\r\n        content: post.content,\r\n        userId: fb.auth.currentUser.uid,\r\n        userName: state.userProfile.name,\r\n        comments: 0,\r\n        likes: 0\r\n      })\r\n    },\r\n    async likePost ({ commit }, post) {\r\n      const userId = fb.auth.currentUser.uid\r\n      const docId = `${userId}_${post.id}`\r\n\r\n      // check if user has liked post\r\n      const doc = await fb.likesCollection.doc(docId).get()\r\n      if (doc.exists) { return }\r\n\r\n      // create post\r\n      await fb.likesCollection.doc(docId).set({\r\n        postId: post.id,\r\n        userId: userId\r\n      })\r\n\r\n      // update post likes count\r\n      fb.postsCollection.doc(post.id).update({\r\n        likes: post.likesCount + 1\r\n      })\r\n    },\r\n    async updateProfile({ dispatch }, user) {\r\n      const userId = fb.auth.currentUser.uid\r\n      // update user object\r\n      const userRef = await fb.usersCollection.doc(userId).update({\r\n        name: user.name,\r\n        title: user.title\r\n      })\r\n\r\n      dispatch('fetchUserProfile', { uid: userId })\r\n\r\n      // update all posts by user\r\n      const postDocs = await fb.postsCollection.where('userId', '==', userId).get()\r\n      postDocs.forEach(doc => {\r\n        fb.postsCollection.doc(doc.id).update({\r\n          userName: user.name\r\n        })\r\n      })\r\n\r\n      // update all comments by user\r\n      const commentDocs = await fb.commentsCollection.where('userId', '==', userId).get()\r\n      commentDocs.forEach(doc => {\r\n        fb.commentsCollection.doc(doc.id).update({\r\n          userName: user.name\r\n        })\r\n      })\r\n    }\r\n  }\r\n})\r\n\r\nexport default store\r\n"]}]}