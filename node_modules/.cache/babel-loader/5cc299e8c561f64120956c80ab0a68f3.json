{"remainingRequest":"C:\\Users\\jonha\\Google Drive\\Skole\\Programutvikling\\INF319\\Virtual tours\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\jonha\\Google Drive\\Skole\\Programutvikling\\INF319\\Virtual tours\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\jonha\\Google Drive\\Skole\\Programutvikling\\INF319\\Virtual tours\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\jonha\\Google Drive\\Skole\\Programutvikling\\INF319\\Virtual tours\\src\\views\\Users.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\jonha\\Google Drive\\Skole\\Programutvikling\\INF319\\Virtual tours\\src\\views\\Users.vue","mtime":1603189394148},{"path":"C:\\Users\\jonha\\Google Drive\\Skole\\Programutvikling\\INF319\\Virtual tours\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jonha\\Google Drive\\Skole\\Programutvikling\\INF319\\Virtual tours\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\jonha\\Google Drive\\Skole\\Programutvikling\\INF319\\Virtual tours\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jonha\\Google Drive\\Skole\\Programutvikling\\INF319\\Virtual tours\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvam9uaGEvR29vZ2xlIERyaXZlL1Nrb2xlL1Byb2dyYW11dHZpa2xpbmcvSU5GMzE5L1ZpcnR1YWwgdG91cnMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJDOi9Vc2Vycy9qb25oYS9Hb29nbGUgRHJpdmUvU2tvbGUvUHJvZ3JhbXV0dmlrbGluZy9JTkYzMTkvVmlydHVhbCB0b3Vycy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAidnVleCI7CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKaW1wb3J0ICogYXMgZmIgZnJvbSAiLi4vZmlyZWJhc2UiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXJzOiBbXQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmZldGNoVXNlcnMoKTsKICAgIGNvbnNvbGUuaW5mbygibW91bnRlZCwgdXNlcnM6IiwgdGhpcy51c2Vycyk7CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZShbInVzZXJQcm9maWxlIiwgInVzZXJzIl0pKSwge30sIHsKICAgIGl0ZW1zOiBmdW5jdGlvbiBpdGVtcygpIHsKICAgICAgcmV0dXJuIHRoaXMudXNlcnM7CiAgICB9CiAgfSksCiAgbWV0aG9kczogewogICAgZmV0Y2hVc2VyczogZnVuY3Rpb24gZmV0Y2hVc2VycygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF95aWVsZCRmYiR1c2Vyc0NvbGxlYywgZG9jczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBmYi51c2Vyc0NvbGxlY3Rpb24uZ2V0KCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF95aWVsZCRmYiR1c2Vyc0NvbGxlYyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBkb2NzID0gX3lpZWxkJGZiJHVzZXJzQ29sbGVjLmRvY3M7CiAgICAgICAgICAgICAgICBfdGhpcy51c2VycyA9IGRvY3MubWFwKGZ1bmN0aW9uIChkb2MpIHsKICAgICAgICAgICAgICAgICAgdmFyIGlkID0gZG9jLmlkOwogICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IGRvYy5kYXRhKCk7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHsKICAgICAgICAgICAgICAgICAgICBpZDogaWQKICAgICAgICAgICAgICAgICAgfSwgZGF0YSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJMb2FkZWQgdXNlcnMiLCBfdGhpcy51c2Vycyk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDk7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJTb21ldGhpbmcgd2VudCB3cm9uZy4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMCwgOV1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgdXBkYXRlQWRtaW46IGZ1bmN0aW9uIHVwZGF0ZUFkbWluKHVzZXIpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHVzZXJSZWY7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBmYi51c2Vyc0NvbGxlY3Rpb24uZG9jKHVzZXIuaWQpLnVwZGF0ZSh7CiAgICAgICAgICAgICAgICAgIGFkbWluOiAhdXNlci5hZG1pbgogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHVzZXJSZWYgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge30sIDIwMDApOwogICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Users.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA,SAAA,QAAA,QAAA,MAAA;AACA,OAAA,MAAA,MAAA,QAAA;AACA,OAAA,KAAA,EAAA,MAAA,aAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA,EADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AADA,KAAA;AAGA,GANA;AAOA,EAAA,OAAA,EAAA,mBAAA;AACA,SAAA,UAAA;AACA,IAAA,OAAA,CAAA,IAAA,CAAA,iBAAA,EAAA,KAAA,KAAA;AACA,GAVA;AAWA,EAAA,QAAA,kCACA,QAAA,CAAA,CAAA,aAAA,EAAA,OAAA,CAAA,CADA;AAEA,IAAA,KAAA,EAAA,iBAAA;AACA,aAAA,KAAA,KAAA;AACA;AAJA,IAXA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,EAAA,CAAA,eAAA,CAAA,GAAA,EAFA;;AAAA;AAAA;AAEA,gBAAA,IAFA,yBAEA,IAFA;AAIA,gBAAA,KAAA,CAAA,KAAA,GAAA,IAAA,CAAA,GAAA,CAAA,UAAA,GAAA,EAAA;AAAA,sBACA,EADA,GACA,GADA,CACA,EADA;AAEA,sBAAA,IAAA,GAAA,GAAA,CAAA,IAAA,EAAA;AACA;AAAA,oBAAA,EAAA,EAAA;AAAA,qBAAA,IAAA;AACA,iBAJA,CAAA;AAMA,gBAAA,OAAA,CAAA,GAAA,CAAA,cAAA,EAAA,KAAA,CAAA,KAAA;AAVA;AAAA;;AAAA;AAAA;AAAA;AAAA,sBAYA,IAAA,KAAA,CAAA,uBAAA,CAZA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA,KAfA;AAiBA,IAAA,WAjBA,uBAiBA,IAjBA,EAiBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,EAAA,CAAA,eAAA,CAAA,GAAA,CAAA,IAAA,CAAA,EAAA,EAAA,MAAA,CAAA;AACA,kBAAA,KAAA,EAAA,CAAA,IAAA,CAAA;AADA,iBAAA,CADA;;AAAA;AACA,gBAAA,OADA;AAIA,gBAAA,UAAA,CAAA,YAAA,CAAA,CAAA,EAAA,IAAA,CAAA;AACA,gBAAA,MAAA,CAAA,QAAA,CAAA,MAAA;;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAvBA;AAjBA,CAAA","sourcesContent":["<template>\r\n  <section id=\"users\" v-if=\"userProfile.admin\">\r\n\t\r\n\t<div class=\"limiter\">\r\n\t\t<div class=\"container-table100\">\r\n\t\t\t<div class=\"wrap-table100\">\r\n\t\t\t\t\t<div class=\"table\">\r\n\r\n\t\t\t\t\t\t<div class=\"row header\">\r\n\t\t\t\t\t\t\t<div class=\"cell\">\r\n\t\t\t\t\t\t\t\tName\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"cell\">\r\n\t\t\t\t\t\t\t\tCompany\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"cell\">\r\n\t\t\t\t\t\t\t\tAdmin\r\n\t\t\t\t\t\t\t</div>\r\n              <div class=\"cell\">\r\n\t\t\t\t\t\t\t\tTours\r\n\t\t\t\t\t\t\t</div>\r\n              <div class=\"cell\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div v-for=\"user in users\" :key=\"user.id\" class=\"row\">\r\n\t\t\t\t\t\t\t<div class=\"cell\">\r\n\t\t\t\t\t\t\t\t{{user.name}}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"cell\">\r\n\t\t\t\t\t\t\t\t{{user.company}}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"cell\">\r\n\t\t\t\t\t\t\t\t<label class=\"switch\">\r\n                  <input v-if=\"user.admin\" type=\"checkbox\" checked=\"true\" @click=\"updateAdmin(user)\">\r\n                  <input v-else type=\"checkbox\" @click=\"updateAdmin(user)\">\r\n                  <span class=\"slider round\"></span>\r\n                </label>\r\n                </div>\r\n              <div class=\"cell\">\r\n                \r\n\t\t\t\t\t\t\t</div> \r\n              <div class=\"cell\">\r\n                <input type=\"image\" src=\"gear.png\" width=\"20\" height=\"20\" >\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n            \r\n\t\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport moment from \"moment\";\r\nimport * as fb from \"../firebase\";\r\n\r\nexport default {\r\n  components: {},\r\n  data() {\r\n    return {\r\n      users: [],\r\n    };\r\n  },\r\n  mounted: function () {\r\n    this.fetchUsers();\r\n    console.info(\"mounted, users:\", this.users);\r\n  },\r\n  computed: {\r\n    ...mapState([\"userProfile\", \"users\"]),\r\n    items: function () {\r\n      return this.users;\r\n    },\r\n  },\r\n  methods: {\r\n    async fetchUsers() {\r\n      try {\r\n        const { docs } = await fb.usersCollection.get();\r\n\r\n        this.users = docs.map((doc) => {\r\n          const { id } = doc;\r\n          const data = doc.data();\r\n          return { id, ...data };\r\n        });\r\n\r\n        console.log(\"Loaded users\", this.users);\r\n      } catch (error) {\r\n        throw new Error(\"Something went wrong.\");\r\n      }\r\n    },\r\n\r\n    async updateAdmin(user) {\r\n      const userRef = await fb.usersCollection.doc(user.id).update({\r\n        admin: !user.admin,\r\n      });\r\n      setTimeout(() => {}, 2000);\r\n      window.location.reload();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n"],"sourceRoot":"src/views"}]}