{"remainingRequest":"C:\\Users\\jonha\\Google Drive\\Skole\\Programutvikling\\INF319\\Firebase\\SAVuegram\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\jonha\\Google Drive\\Skole\\Programutvikling\\INF319\\Firebase\\SAVuegram\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\jonha\\Google Drive\\Skole\\Programutvikling\\INF319\\Firebase\\SAVuegram\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\jonha\\Google Drive\\Skole\\Programutvikling\\INF319\\Firebase\\SAVuegram\\src\\views\\Users.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\jonha\\Google Drive\\Skole\\Programutvikling\\INF319\\Firebase\\SAVuegram\\src\\views\\Users.vue","mtime":1603189394148},{"path":"C:\\Users\\jonha\\Google Drive\\Skole\\Programutvikling\\INF319\\Firebase\\SAVuegram\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jonha\\Google Drive\\Skole\\Programutvikling\\INF319\\Firebase\\SAVuegram\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\jonha\\Google Drive\\Skole\\Programutvikling\\INF319\\Firebase\\SAVuegram\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jonha\\Google Drive\\Skole\\Programutvikling\\INF319\\Firebase\\SAVuegram\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\jonha\\Google Drive\\Skole\\Programutvikling\\INF319\\Firebase\\SAVuegram\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jonha\\Google Drive\\Skole\\Programutvikling\\INF319\\Firebase\\SAVuegram\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\jonha\\Google Drive\\Skole\\Programutvikling\\INF319\\Firebase\\SAVuegram\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jonha\\Google Drive\\Skole\\Programutvikling\\INF319\\Firebase\\SAVuegram\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvam9uaGEvR29vZ2xlIERyaXZlL1Nrb2xlL1Byb2dyYW11dHZpa2xpbmcvSU5GMzE5L0ZpcmViYXNlL1NBVnVlZ3JhbS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkM6L1VzZXJzL2pvbmhhL0dvb2dsZSBEcml2ZS9Ta29sZS9Qcm9ncmFtdXR2aWtsaW5nL0lORjMxOS9GaXJlYmFzZS9TQVZ1ZWdyYW0vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOwppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7CmltcG9ydCAqIGFzIGZiIGZyb20gIi4uL2ZpcmViYXNlIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyczogW10KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5mZXRjaFVzZXJzKCk7CiAgICBjb25zb2xlLmluZm8oIm1vdW50ZWQsIHVzZXJzOiIsIHRoaXMudXNlcnMpOwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoWyJ1c2VyUHJvZmlsZSIsICJ1c2VycyJdKSksIHt9LCB7CiAgICBpdGVtczogZnVuY3Rpb24gaXRlbXMoKSB7CiAgICAgIHJldHVybiB0aGlzLnVzZXJzOwogICAgfQogIH0pLAogIG1ldGhvZHM6IHsKICAgIGZldGNoVXNlcnM6IGZ1bmN0aW9uIGZldGNoVXNlcnMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfeWllbGQkZmIkdXNlcnNDb2xsZWMsIGRvY3M7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZmIudXNlcnNDb2xsZWN0aW9uLmdldCgpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfeWllbGQkZmIkdXNlcnNDb2xsZWMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgZG9jcyA9IF95aWVsZCRmYiR1c2Vyc0NvbGxlYy5kb2NzOwogICAgICAgICAgICAgICAgX3RoaXMudXNlcnMgPSBkb2NzLm1hcChmdW5jdGlvbiAoZG9jKSB7CiAgICAgICAgICAgICAgICAgIHZhciBpZCA9IGRvYy5pZDsKICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBkb2MuZGF0YSgpOwogICAgICAgICAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7CiAgICAgICAgICAgICAgICAgICAgaWQ6IGlkCiAgICAgICAgICAgICAgICAgIH0sIGRhdGEpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiTG9hZGVkIHVzZXJzIiwgX3RoaXMudXNlcnMpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA5OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiU29tZXRoaW5nIHdlbnQgd3JvbmcuIik7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDldXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHVwZGF0ZUFkbWluOiBmdW5jdGlvbiB1cGRhdGVBZG1pbih1c2VyKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciB1c2VyUmVmOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZmIudXNlcnNDb2xsZWN0aW9uLmRvYyh1c2VyLmlkKS51cGRhdGUoewogICAgICAgICAgICAgICAgICBhZG1pbjogIXVzZXIuYWRtaW4KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICB1c2VyUmVmID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHt9LCAyMDAwKTsKICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Users.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA,SAAA,QAAA,QAAA,MAAA;AACA,OAAA,MAAA,MAAA,QAAA;AACA,OAAA,KAAA,EAAA,MAAA,aAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA,EADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AADA,KAAA;AAGA,GANA;AAOA,EAAA,OAAA,EAAA,mBAAA;AACA,SAAA,UAAA;AACA,IAAA,OAAA,CAAA,IAAA,CAAA,iBAAA,EAAA,KAAA,KAAA;AACA,GAVA;AAWA,EAAA,QAAA,kCACA,QAAA,CAAA,CAAA,aAAA,EAAA,OAAA,CAAA,CADA;AAEA,IAAA,KAAA,EAAA,iBAAA;AACA,aAAA,KAAA,KAAA;AACA;AAJA,IAXA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,EAAA,CAAA,eAAA,CAAA,GAAA,EAFA;;AAAA;AAAA;AAEA,gBAAA,IAFA,yBAEA,IAFA;AAIA,gBAAA,KAAA,CAAA,KAAA,GAAA,IAAA,CAAA,GAAA,CAAA,UAAA,GAAA,EAAA;AAAA,sBACA,EADA,GACA,GADA,CACA,EADA;AAEA,sBAAA,IAAA,GAAA,GAAA,CAAA,IAAA,EAAA;AACA;AAAA,oBAAA,EAAA,EAAA;AAAA,qBAAA,IAAA;AACA,iBAJA,CAAA;AAMA,gBAAA,OAAA,CAAA,GAAA,CAAA,cAAA,EAAA,KAAA,CAAA,KAAA;AAVA;AAAA;;AAAA;AAAA;AAAA;AAAA,sBAYA,IAAA,KAAA,CAAA,uBAAA,CAZA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA,KAfA;AAiBA,IAAA,WAjBA,uBAiBA,IAjBA,EAiBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,EAAA,CAAA,eAAA,CAAA,GAAA,CAAA,IAAA,CAAA,EAAA,EAAA,MAAA,CAAA;AACA,kBAAA,KAAA,EAAA,CAAA,IAAA,CAAA;AADA,iBAAA,CADA;;AAAA;AACA,gBAAA,OADA;AAIA,gBAAA,UAAA,CAAA,YAAA,CAAA,CAAA,EAAA,IAAA,CAAA;AACA,gBAAA,MAAA,CAAA,QAAA,CAAA,MAAA;;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAvBA;AAjBA,CAAA","sourcesContent":["<template>\r\n  <section id=\"users\" v-if=\"userProfile.admin\">\r\n\t\r\n\t<div class=\"limiter\">\r\n\t\t<div class=\"container-table100\">\r\n\t\t\t<div class=\"wrap-table100\">\r\n\t\t\t\t\t<div class=\"table\">\r\n\r\n\t\t\t\t\t\t<div class=\"row header\">\r\n\t\t\t\t\t\t\t<div class=\"cell\">\r\n\t\t\t\t\t\t\t\tName\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"cell\">\r\n\t\t\t\t\t\t\t\tCompany\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"cell\">\r\n\t\t\t\t\t\t\t\tAdmin\r\n\t\t\t\t\t\t\t</div>\r\n              <div class=\"cell\">\r\n\t\t\t\t\t\t\t\tTours\r\n\t\t\t\t\t\t\t</div>\r\n              <div class=\"cell\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div v-for=\"user in users\" :key=\"user.id\" class=\"row\">\r\n\t\t\t\t\t\t\t<div class=\"cell\">\r\n\t\t\t\t\t\t\t\t{{user.name}}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"cell\">\r\n\t\t\t\t\t\t\t\t{{user.company}}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"cell\">\r\n\t\t\t\t\t\t\t\t<label class=\"switch\">\r\n                  <input v-if=\"user.admin\" type=\"checkbox\" checked=\"true\" @click=\"updateAdmin(user)\">\r\n                  <input v-else type=\"checkbox\" @click=\"updateAdmin(user)\">\r\n                  <span class=\"slider round\"></span>\r\n                </label>\r\n                </div>\r\n              <div class=\"cell\">\r\n                \r\n\t\t\t\t\t\t\t</div> \r\n              <div class=\"cell\">\r\n                <input type=\"image\" src=\"gear.png\" width=\"20\" height=\"20\" >\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n            \r\n\t\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport moment from \"moment\";\r\nimport * as fb from \"../firebase\";\r\n\r\nexport default {\r\n  components: {},\r\n  data() {\r\n    return {\r\n      users: [],\r\n    };\r\n  },\r\n  mounted: function () {\r\n    this.fetchUsers();\r\n    console.info(\"mounted, users:\", this.users);\r\n  },\r\n  computed: {\r\n    ...mapState([\"userProfile\", \"users\"]),\r\n    items: function () {\r\n      return this.users;\r\n    },\r\n  },\r\n  methods: {\r\n    async fetchUsers() {\r\n      try {\r\n        const { docs } = await fb.usersCollection.get();\r\n\r\n        this.users = docs.map((doc) => {\r\n          const { id } = doc;\r\n          const data = doc.data();\r\n          return { id, ...data };\r\n        });\r\n\r\n        console.log(\"Loaded users\", this.users);\r\n      } catch (error) {\r\n        throw new Error(\"Something went wrong.\");\r\n      }\r\n    },\r\n\r\n    async updateAdmin(user) {\r\n      const userRef = await fb.usersCollection.doc(user.id).update({\r\n        admin: !user.admin,\r\n      });\r\n      setTimeout(() => {}, 2000);\r\n      window.location.reload();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n"],"sourceRoot":"src/views"}]}